@model DXWebApplication2Responsive.AviceN3ExamServiceReference.MedicalServiceAvailableResource

@if (Model != null && Model.ListMedicalResource.Length > 0)
{
<b>Lpu id:@Model.IdLpu</b>
    @Html.DevExpress().GridView(settings =>
{
    settings.Name = "detailGrid_" + ViewData["IdMedicalService"];
    settings.SettingsDetail.MasterGridName = "grid";
    settings.CallbackRouteValues = new {Controller = "AviceN3Exam", Action = "ListMedicalResource", CustomerID = ViewData["IdMedicalService"] };
    settings.Width = Unit.Percentage(100);

    settings.KeyFieldName = "IdMedicalResource";
    settings.Columns.Add("EmployeeNameSpeciality");
    //settings.Columns.Add("MedicalEmployeeIdSpeciality");
    //settings.Columns.Add("MedicalEmployeeFedIdSpeciality");
    settings.Columns.Add("EmployeeComment");
    settings.Columns.Add("EmployeePositionCode");
    settings.Columns.Add("EmployeeSnils");
    settings.Columns.Add("MedicalResourceComment");
    settings.Columns.Add("MedicalResourceName");

    settings.Columns.Add("IdSlot");
    settings.Columns.Add("Address");
    settings.Columns.Add("Room");
    settings.Columns.Add("VisitStart").PropertiesEdit.DisplayFormatString = "g";
    settings.Columns.Add("VisitEnd").PropertiesEdit.DisplayFormatString = "g";

    //settings.CustomUnboundColumnData = (sender, e) => {
    //    if(e.Column.FieldName == "Total") {
    //        decimal price = (decimal)e.GetListSourceFieldValue("UnitPrice");
    //        int quantity = Convert.ToInt32(e.GetListSourceFieldValue("Quantity"));
    //        e.Value = price * quantity;
    //    }
    //};
    settings.Settings.ShowFooter = true;
    settings.SettingsPager.PageSize = 50;
    //settings.TotalSummary.Add(DevExpress.Data.SummaryItemType.Sum, "Total");
    //settings.TotalSummary.Add(DevExpress.Data.SummaryItemType.Sum, "Quantity");

    //DevExpress.Web.Demos.GridViewFeaturesHelper.SetupGlobalGridViewBehavior(settings);
}).Bind(Model.ListMedicalResource).GetHtml()
}